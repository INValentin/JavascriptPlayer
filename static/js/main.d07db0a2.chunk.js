(this["webpackJsonpreact-lap"]=this["webpackJsonpreact-lap"]||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),l=n(6),r=n.n(l),i=(n(12),function(){return c.a.createElement("nav",null,c.a.createElement("div",{className:"logo"},c.a.createElement("span",null,"VAL"),c.a.createElement("i",{className:"material-icons"},"music_note")),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("a",{className:"icon",href:"#!"},c.a.createElement("i",{className:"material-icons"},"library_music"))),c.a.createElement("li",null,c.a.createElement("a",{className:"icon",href:"#!"},c.a.createElement("i",{className:"material-icons"},"playlist_play")))))}),u=function(){return c.a.createElement("footer",null,"\xa9Valentin")},o=n(1),s=n(4),m=function(e){var t=e.isPlaying,n=e.actions,a=n.onPlay,l=n.onDelete,r=e.track;return c.a.createElement("div",{onClick:function(){!t&&a(r)},draggable:!0,className:"track ".concat(t?"playing":"")},c.a.createElement("h6",{className:"track-name"},"Track ",r.name),c.a.createElement("div",{className:"track-btns"},c.a.createElement("button",{onClick:function(){!t&&a(r)},className:"play"},c.a.createElement("i",{className:"material-icons"},t?"pause_circle_outline":"play_circle_fill")),c.a.createElement("button",{onClick:function(){return l(r)},className:"delete"},c.a.createElement("i",{className:"material-icons"},"delete"))))},d=function(e){var t=e.shouldPlayNext,n=e.setCurrentSrc,l=Object(a.useState)([]),r=Object(o.a)(l,2),i=r[0],u=r[1],d=Object(a.useState)(null),f=Object(o.a)(d,2),E=f[0],v=f[1],b=Object(a.useState)(!1),p=Object(o.a)(b,2),O=p[0],j=p[1],g=Object(a.useRef)(null),h={onPlay:function(e){v(e)},onDelete:function(e){E&&E.name===e.name&&n(""),u(i.filter((function(t){return t.name!==e.name}))),y(1)}},y=Object(a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!(i.length<1)){var t=i.findIndex((function(e){return E&&e.name===E.name}));t+=e;var n=Number(t>=i.length||t<-1?0:t<0?i.length-1:t);E&&E.name===i[n].name||v(i[n])}}),[E,i]),N=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.preventDefault();var n=Object(s.a)(t?e.dataTransfer.files:e.target.files),a=document.createElement("video"),c=n.length,l=function(e){return i.some((function(t){return t.name===e.name}))},r=n.filter((function(e){return a.canPlayType(e.type)&&!l(e)}));r.length&&u([].concat(Object(s.a)(i),Object(s.a)(r))),c!==r.length&&alert("".concat(c-r.length," / ").concat(c," file(s) type not supported or already exists | ").concat(r.length," Added."))};return Object(a.useEffect)((function(){!O&&t&&(y(),j(!0)),!t&&O&&j(!1)}),[t,O,y]),Object(a.useEffect)((function(){E&&n(window.URL.createObjectURL(E)),console.log(E)}),[E,n]),Object(a.useEffect)((function(){return window.ondragover=function(e){return e.preventDefault()},window.ondrop=function(e){return N(e,!0)},function(){window.ondragover=null,window.ondrop=null}})),c.a.createElement("div",{className:"playlist"},c.a.createElement("div",{className:"header"},c.a.createElement("h1",null,"Playlist"),c.a.createElement("div",{className:"playlist-btns"},c.a.createElement("button",{onClick:function(e){return g.current.click()}},c.a.createElement("i",{className:"material-icons"},"playlist_add"),c.a.createElement("span",null,"Add track"),c.a.createElement("input",{multiple:!0,accept:"audio/*,video/*",style:{display:"none"},ref:g,type:"file",onChange:N})),c.a.createElement("button",{onClick:function(){return y(-1)},className:"icon"},c.a.createElement("i",{className:"material-icons"},"arrow_back")),c.a.createElement("button",{onClick:function(){return y()},className:"icon"},c.a.createElement("i",{className:"material-icons"},"arrow_forward")))),c.a.createElement("div",{className:"tracks"},i.length>0?i.map((function(e){return c.a.createElement(m,{isPlaying:E&&E.name===e.name,actions:h,key:e.name,track:e})})):c.a.createElement("h1",null,"No tracks yet. You can drag-drop here.")))},f=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(!1),r=Object(o.a)(l,2),i=r[0],u=r[1],s=Object(a.useState)(!1),m=Object(o.a)(s,2),d=m[0],f=m[1],E=Object(a.useState)(1),v=Object(o.a)(E,2),b=v[0],p=v[1],O=Object(a.useState)("00:000 / 00:00"),j=Object(o.a)(O,2),g=j[0],h=j[1],y=Object(a.useState)(null),N=Object(o.a)(y,2),k=N[0],S=N[1],w=Object(a.useState)(null),C=Object(o.a)(w,2),L=C[0],_=C[1],M=Object(a.useState)(!1),T=Object(o.a)(M,2),P=T[0],x=T[1],V=Object(a.useState)(!1),F=Object(o.a)(V,2),R=F[0],D=F[1],A=Object(a.useCallback)((function(){n.addEventListener("play",(function(e){u(!0),P&&x(!1)})),n.addEventListener("canplay",(function(e){return!R&&D(!0)})),n.addEventListener("playing",(function(e){P&&x(!1)})),n.addEventListener("pause",(function(e){u(!1)})),n.addEventListener("volumechange",(function(e){k&&(k.style.width=n.volume*k.offsetWidth+"px"),p(n.volume),f(n.muted)})),n.addEventListener("timeupdate",(function(e){L&&(L.style.width=100*n.currentTime/n.duration+"%"),h(H(n.currentTime)+" / "+H(n.duration))})),n.addEventListener("ended",(function(e){return!P&&x(!0)})),n.addEventListener("error",(function(e){return R&&D(!1)}))}),[n,P,L,R,k]);Object(a.useEffect)((function(){n&&(p(n.volume),f(n.muted),A())}),[n,A]);function H(e){var t,n,a,c=function(e){return String(e<10?"0"+(e||0):e||0)};return 0,n=(t=Math.floor(e/3600))?Math.floor(60*(e/3600-t)):Math.floor(e/60),a=t?Math.floor(60*(60*(e/3600-t)-n)):Math.floor(60*(e/60-n)),"".concat(t?c(t)+":":"").concat(c(n),":").concat(c(a))}return{currentTime:g,volume:b,muted:d,didEnd:P,playing:i,canPlay:R,togglePlay:function(){return R&&(n.paused?n.play():n.pause())},toggleMuted:function(){return R&&(n.muted=!d)},changeVolume:function(e){return R&&(n.volume=e)},changeCurrentTime:function(e){return n.currentTime=e},calculateFromEvent:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(R){var a=e.target.firstElementChild?e.target:e.target.parentElement,c=a.firstElementChild,l=100*e.offsetX/a.offsetWidth;t?(c.style.width=l*c.offsetWidth/100+"px",n.volume=l/100):(c.style.width=l+"%",n.currentTime=l/100*n.duration)}},setVolumeLine:S,setCurrentTimeLine:_,setVideo:c}},E=function(e){var t=e.setLine,n=e.eventHandler,l=e.level,r=void 0===l?0:l,i=Object(a.useState)(null),u=Object(o.a)(i,2),s=u[0],m=u[1];return Object(a.useEffect)((function(){s&&s.addEventListener("click",n)}),[s,n]),c.a.createElement("div",{ref:m,className:"progress-wrapper"},c.a.createElement("div",{ref:t,style:{width:100*r+"%"},className:"progress-line"}))},v=function(e){var t=e.setMediaEnded,n=e.mediaSrc,l=void 0===n?"":n,r=e.loop,i=void 0!==r&&r,u=Object(a.useState)(!1),s=Object(o.a)(u,2),m=s[0],d=s[1],v=Object(a.useState)(!0),b=Object(o.a)(v,2),p=b[0],O=b[1],j=Object(a.useState)(!1),g=Object(o.a)(j,2),h=g[0],y=g[1],N=Object(a.useRef)(null),k=Object(a.useRef)(null),S=f(),w=S.currentTime,C=S.didEnd,L=S.muted,_=S.volume,M=S.playing,T=S.setVideo,P=S.togglePlay,x=S.toggleMuted,V=S.calculateFromEvent,F=S.setVolumeLine,R=S.setCurrentTimeLine,D=Object(a.useCallback)((function(){var e=N.current;e&&clearTimeout(e),!m&&p&&(N.current=setTimeout((function(){d(!0)}),3e3)),m&&d(!1)}),[m,p]);return Object(a.useEffect)((function(){var e=document.fullscreenElement,t=k.current;h?!e&&t&&t.requestFullscreen():e&&document.exitFullscreen()}),[h]),Object(a.useEffect)((function(){t(C)}),[C,t]),c.a.createElement("div",{ref:k,onMouseOut:function(e){!m&&d(!0)},onMouseMove:D,className:"player"},c.a.createElement("video",{ref:T,autoPlay:!0,loop:i,src:l,poster:"poster.jpeg"}),c.a.createElement("div",{onClick:P,className:"video-overlay ".concat(M?"hidden":"")},c.a.createElement("button",{className:"icon"},c.a.createElement("i",{className:"material-icons"},"".concat(M?"pause":"play","_circle_outline")))),c.a.createElement("div",{onMouseOver:function(e){p&&O(!1)},onMouseOut:function(e){!p&&O(!0)},className:"controls ".concat(m&&"hidden")},c.a.createElement("div",{className:"btns"},c.a.createElement("div",{className:"left"},c.a.createElement("button",{onClick:P,className:"icon"},c.a.createElement("i",{className:"material-icons"},"".concat(M?"pause":"play","_circle_outline")))),c.a.createElement("div",{className:"middle"},c.a.createElement("h6",null,w)),c.a.createElement("div",{className:"right"},c.a.createElement("button",{onClick:function(e){return y((function(e){return!e}))},className:"icon"},c.a.createElement("i",{className:"material-icons"},"fullscreen")),c.a.createElement("div",{className:"volume-wrapper"},c.a.createElement("button",{className:"icon"},c.a.createElement(E,{setLine:F,eventHandler:function(e){return V(e,!0)},level:_}),c.a.createElement("i",{onClick:x,className:"material-icons"},L?"volume_off":"volume_up"))))),c.a.createElement(E,{setLine:R,eventHandler:V})))},b=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],l=t[1],r=Object(a.useState)(!1),i=Object(o.a)(r,2),u=i[0],s=i[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(v,{setMediaEnded:s,mediaSrc:n}),c.a.createElement(d,{shouldPlayNext:u,setCurrentSrc:l}))},p=function(){return c.a.createElement("main",null,c.a.createElement(b,null))};var O=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(i,null),c.a.createElement(p,null),c.a.createElement(u,null))};r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(O,null)),document.getElementById("root"))},7:function(e,t,n){e.exports=n(13)}},[[7,1,2]]]);
//# sourceMappingURL=main.d07db0a2.chunk.js.map